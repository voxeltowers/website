(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{6794:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/faucet",function(){return t(6403)}])},8292:function(e,n,t){"use strict";var r=t(5893),i=t(8527);n.Z=function(e){return(0,r.jsx)(i.kC,{flexDirection:"column",minHeight:"100vh",overflow:"hidden",children:e.children})}},9370:function(e,n,t){"use strict";var r=t(5893),i=t(9008);n.Z=function(e){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:e.title||"VoxelTowers"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("link",{rel:"shortcut icon",type:"image/svg",href:"".concat("","/assets/voxel-towers-logo.svg")})]}),e.children]})}},2074:function(e,n,t){"use strict";t.d(n,{J:function(){return l}});var r=t(4051),i=t.n(r),o=t(1438),a=t(8928),c=t(5553);function u(e,n,t,r,i,o,a){try{var c=e[o](a),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function a(e){u(o,r,i,a,c,"next",e)}function c(e){u(o,r,i,a,c,"throw",e)}a(void 0)}))}}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.provider=new o.cK(n.rpcUrl),this.confirmationsThreshold=n.confirmationsThreshold||2,this.confirmationWaitingTimeoutSec=n.confirmationWaitingTimeoutSec||120,this.confirmationPollIntervalSec=n.confirmationPollIntervalSec||5}var n,t,r;return n=e,t=[{key:"sendEth",value:function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return s(i().mark((function o(){var c,u;return i().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c=new a.w5(n.senderPrivKey,r.provider),i.next=3,c.sendTransaction({to:n.receiverAddress,value:e.ethToWei(n.amountInEth)});case 3:if(u=i.sent,!t){i.next=7;break}return i.next=7,r.waitForConfirmation(u.hash);case 7:return i.abrupt("return",u);case 8:case"end":return i.stop()}}),o)})))()}},{key:"getBalance",value:function(n){var t=this;return s(i().mark((function r(){var o,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.provider.getBalance(n);case 2:return o=r.sent,a=e.weiToEth(o),r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})))()}},{key:"waitForConfirmation",value:function(e){var n=this;return s(i().mark((function t(){var r,o,a,c,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,a=Math.round(n.confirmationWaitingTimeoutSec/n.confirmationPollIntervalSec),c=0;case 4:if(!(c<=a)){t.next=23;break}return t.next=8,null===(u=n.provider)||void 0===u?void 0:u.getTransaction(e);case 8:if(!((o=t.sent)&&o.confirmations>=n.confirmationsThreshold)){t.next=14;break}return r=!0,t.abrupt("break",23);case 14:if(c!==a){t.next=18;break}return t.abrupt("break",23);case 18:return t.next=20,n.sleep(n.confirmationPollIntervalSec);case 20:c++,t.next=4;break;case 23:if(r){t.next=25;break}throw new Error("confirmation waiting timeout");case 25:case"end":return t.stop()}}),t)})))()}},{key:"sleep",value:function(e){return new Promise((function(n){return setTimeout(n,1e3*e)}))}},{key:"fundAddressUpTo",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=this;return s(i().mark((function r(){var o,a,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getBalance(e.receiverAddress);case 2:if(o=r.sent,!((a=e.amountInEth-o)>0)){r.next=9;break}return r.next=8,t.sendEth({senderPrivKey:e.senderPrivKey,amountInEth:a,receiverAddress:e.receiverAddress},n);case 8:c=r.sent;case 9:return r.abrupt("return",c);case 10:case"end":return r.stop()}}),r)})))()}}],r=[{key:"weiToEth",value:function(e){return parseFloat(c.dF(e))}},{key:"ethToWei",value:function(e){return c.fi(e.toString())}}],t&&f(n.prototype,t),r&&f(n,r),e}()},6403:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var r,i=t(5893),o=t(9795),a=t(7294),c=t(3238),u=(t(8527),t(9762),t(4612),t(6723),t(8292),t(9370),t(7786),t(8152),t(4651),t(2660)),s=t(2074),f="0x8fA98E72788A9200B41113728F8aDEd1597a99FE",l=new s.J({rpcUrl:u.$G,confirmationsThreshold:1});!function(e){e[e.HIDE=0]="HIDE",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR",e[e.ENOUGH_FUNDS=3]="ENOUGH_FUNDS"}(r||(r={}));var d=function(){var e=(0,o.Ge)().account,n=(0,a.useState)(""),t=(n[0],n[1]),u=(0,a.useState)(!1),s=(u[0],u[1]),d=(0,a.useState)(0),v=(d[0],d[1]),h=(0,a.useState)(r.HIDE),p=h[0],m=(h[1],(0,c.pm)());(0,a.useEffect)((function(){p===r.SUCCESS&&m({title:"Success",description:"Account successfully funded!",status:"success",duration:5e3,isClosable:!0}),p===r.ENOUGH_FUNDS&&m({title:"Warning",description:"Account not funded because balance is greater than ".concat(1,"\n            ."),status:"warning",duration:5e3,isClosable:!0}),p===r.ERROR&&m({title:"Error",description:"Ooops. An Error occurred :(. Check console for more details.",status:"error",duration:5e3,isClosable:!0})}),[p]);return(0,a.useEffect)((function(){return e=f,n=v,s(!0),void l.getBalance(e).then((function(e){return n(e)})).catch((function(e){return console.log(e)})).finally((function(){return s(!1)}));var e,n}),[]),(0,a.useEffect)((function(){return t(e)}),[e]),(0,i.jsx)("p",{children:"Only for development"})}}},function(e){e.O(0,[199,307,773,774,888,179],(function(){return n=6794,e(e.s=n);var n}));var n=e.O();_N_E=n}]);